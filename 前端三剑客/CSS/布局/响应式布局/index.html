<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css"><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"baimohui.github.io",root:"/",images:"/images",scheme:"Muse",version:"8.2.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12},copycode:!1,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:"valine",storage:!0,lazyload:!1,nav:null},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"fadeInDown",post_body:"fadeInDown",coll_header:"fadeInLeft",sidebar:"fadeInUp"}},prism:!1,i18n:{placeholder:"搜索...",empty:"没有找到任何搜索结果：${query}",hits_time:"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）",hits:"找到 ${hits} 个搜索结果"}}</script><meta name="description" content="引言响应式布局指的是同一页面在不同屏幕尺寸下有不同的布局。传统的开发方式是 PC 端开发一套，手机端再开发一套，而使用响应式布局只要开发一套就够，缺点就是CSS比较重。下面是博客网站对不同设备适配后的结果，分别是iPhone5&#x2F;SE,iphone6&#x2F;7&#x2F;8,iphone 6&#x2F;7&#x2F;8 plus,ipad pro,dell 台式宽屏 (1440 X 900)。"><meta property="og:type" content="article"><meta property="og:title" content="前端响应式布局原理与方案（详细版）"><meta property="og:url" content="https://baimohui.github.io/%E5%89%8D%E7%AB%AF%E4%B8%89%E5%89%91%E5%AE%A2/CSS/%E5%B8%83%E5%B1%80/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/index.html"><meta property="og:site_name" content="白抹灰"><meta property="og:description" content="引言响应式布局指的是同一页面在不同屏幕尺寸下有不同的布局。传统的开发方式是 PC 端开发一套，手机端再开发一套，而使用响应式布局只要开发一套就够，缺点就是CSS比较重。下面是博客网站对不同设备适配后的结果，分别是iPhone5&#x2F;SE,iphone6&#x2F;7&#x2F;8,iphone 6&#x2F;7&#x2F;8 plus,ipad pro,dell 台式宽屏 (1440 X 900)。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa90c7235d85f~tplv-t2oaga2asx-watermark.awebp"><meta property="og:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa90e7c6d1332~tplv-t2oaga2asx-watermark.awebp"><meta property="og:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa91116cdded6~tplv-t2oaga2asx-watermark.awebp"><meta property="og:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa8fe7ac87fa5~tplv-t2oaga2asx-watermark.awebp"><meta property="og:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa907bb99b4ea~tplv-t2oaga2asx-watermark.awebp"><meta property="og:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/11/24/15fec33003371f62~tplv-t2oaga2asx-watermark.awebp"><meta property="og:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa8fc4e71232e~tplv-t2oaga2asx-watermark.awebp"><meta property="og:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fb9d770ad1553~tplv-t2oaga2asx-watermark.awebp"><meta property="article:published_time" content="2022-10-22T07:23:41.609Z"><meta property="article:modified_time" content="2023-06-19T17:32:51.139Z"><meta property="article:author" content="mohui"><meta property="article:tag" content="CSS"><meta property="article:tag" content="响应式布局"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa90c7235d85f~tplv-t2oaga2asx-watermark.awebp"><link rel="canonical" href="https://baimohui.github.io/%E5%89%8D%E7%AB%AF%E4%B8%89%E5%89%91%E5%AE%A2/CSS/%E5%B8%83%E5%B1%80/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/"><script class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>前端响应式布局原理与方案（详细版） | 白抹灰</title><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">白抹灰</h1><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li></ul></nav></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E8%A8%80"><span class="nav-text">引言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88"><span class="nav-text">响应式布局的实现方案</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2"><span class="nav-text">1. 媒体查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F%E5%88%86%E5%89%B2%E7%82%B9"><span class="nav-text">如何选择屏幕大小分割点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A7%BB%E5%8A%A8%E4%BC%98%E5%85%88-OR-PC-%E4%BC%98%E5%85%88"><span class="nav-text">移动优先 OR PC 优先</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%99%BE%E5%88%86%E6%AF%94%E5%B8%83%E5%B1%80"><span class="nav-text">2.百分比布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-rem-%E5%B8%83%E5%B1%80"><span class="nav-text">3.rem 布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%A7%86%E5%8F%A3%E5%8D%95%E4%BD%8D"><span class="nav-text">4.视口单位</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E4%BB%85%E4%BD%BF%E7%94%A8-vw-%E4%BD%9C%E4%B8%BA-CSS-%E5%8D%95%E4%BD%8D"><span class="nav-text">1.仅使用 vw 作为 CSS 单位</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E6%90%AD%E9%85%8D-vw-%E5%92%8C-rem"><span class="nav-text">2.搭配 vw 和 rem</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%9B%BE%E7%89%87%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="nav-text">5.图片响应式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E4%BD%BF%E7%94%A8-max-width%EF%BC%88%E5%9B%BE%E7%89%87%E8%87%AA%E9%80%82%E5%BA%94%EF%BC%89"><span class="nav-text">1.使用 max-width（图片自适应）:</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E4%BD%BF%E7%94%A8-srcset"><span class="nav-text">2.使用 srcset</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E4%BD%BF%E7%94%A8-background-image"><span class="nav-text">3.使用 background-image</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-%E4%BD%BF%E7%94%A8-picture-%E6%A0%87%E7%AD%BE"><span class="nav-text">4.使用 picture 标签</span></a></li></ol></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80%E7%9A%84%E6%88%90%E5%9E%8B%E6%96%B9%E6%A1%88"><span class="nav-text">响应式布局的成型方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80%E7%9A%84%E8%A6%81%E7%82%B9"><span class="nav-text">响应式布局的要点</span></a></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">mohui</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">81</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">23</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">77</span> <span class="site-state-item-name">标签</span></a></div></nav></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button"><i class="fa fa-arrow-up"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://baimohui.github.io/%E5%89%8D%E7%AB%AF%E4%B8%89%E5%89%91%E5%AE%A2/CSS/%E5%B8%83%E5%B1%80/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="mohui"><meta itemprop="description" content=""></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="白抹灰"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">前端响应式布局原理与方案（详细版）</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-10-22 15:23:41" itemprop="dateCreated datePublished" datetime="2022-10-22T15:23:41+08:00">2022-10-22</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2023-06-20 01:32:51" itemprop="dateModified" datetime="2023-06-20T01:32:51+08:00">2023-06-20</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CSS/" itemprop="url" rel="index"><span itemprop="name">CSS</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span></span></div><div class="post-meta"><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>12k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>11 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>响应式布局指的是同一页面在不同屏幕尺寸下有不同的布局。传统的开发方式是 PC 端开发一套，手机端再开发一套，而使用响应式布局只要开发一套就够，缺点就是<code>CSS</code>比较重。下面是博客网站对不同设备适配后的结果，分别是<code>iPhone5/SE</code>,<code>iphone6/7/8</code>,<code>iphone 6/7/8 plus</code>,<code>ipad pro</code>,<code>dell 台式宽屏 (1440 X 900)</code>。<a id="more"></a></p><blockquote><p>响应式设计与自适应设计的区别：响应式开发一套界面，通过检测视口分辨率，针对不同客户端在客户端做代码处理，来展现不同的布局和内容；自适应需要开发多套界面，通过检测视口分辨率，来判断当前访问的设备是 pc 端、平板、手机，从而请求服务层，返回不同的页面。</p></blockquote><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa90c7235d85f~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa90e7c6d1332~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa91116cdded6~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><h2 id="响应式布局的实现方案"><a href="#响应式布局的实现方案" class="headerlink" title="响应式布局的实现方案"></a>响应式布局的实现方案</h2><h3 id="1-媒体查询"><a href="#1-媒体查询" class="headerlink" title="1. 媒体查询"></a>1. 媒体查询</h3><p><code>CSS3</code>媒体查询可以让我们针对不同的媒体类型定义不同的样式，当重置浏览器窗口大小的过程中，页面也会根据浏览器的宽度和高度重新渲染页面。</p><h4 id="如何选择屏幕大小分割点"><a href="#如何选择屏幕大小分割点" class="headerlink" title="如何选择屏幕大小分割点"></a>如何选择屏幕大小分割点</h4><p>如何确定媒体查询的分割点也是一个开发中会遇到的问题，下面是市场上的移动设备和电脑屏幕分辨率的分布情况，可以发现不同品牌和型号的设备屏幕分辨率一般都不一样</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa8fe7ac87fa5~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><p>如果我们选择<code>600px</code>,<code>900px</code>,<code>1200px</code>,<code>1800px</code>作为分割点，可以适配到常见的 14 个机型：</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa907bb99b4ea~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><p>当然这只是其中的一种分割方案，我们还可以这样划分：<code>480px</code>,<code>800px</code>,<code>1400px</code>,<code>1400px</code></p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/11/24/15fec33003371f62~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><p>而作为曾经典型的响应式布局框架，<code>Bootstrap</code>是怎么进行断点的呢？</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fa8fc4e71232e~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><p>上面的分割方案不一定满足项目中的实际需求，我们可以先用跨度大的分割点进行分割，如果出现不适配的情况可以再根据实际情况增加新的分割点。</p><h4 id="移动优先-OR-PC-优先"><a href="#移动优先-OR-PC-优先" class="headerlink" title="移动优先 OR PC 优先"></a>移动优先 OR PC 优先</h4><p>不管是移动优先还是 PC 优先，都是依据当随着屏幕宽度增大或减小的时候，后面的样式会覆盖前面的样式。因此，移动端优先首先使用的是<code>min-width</code>，PC 端优先使用的<code>max-width</code>。</p><p><strong>移动优先：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* iphone6 7 8 *&#x2F;</span><br><span class="line">body &#123;</span><br><span class="line">    background-color: yellow;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphone 5 *&#x2F;</span><br><span class="line">@media screen and (max-width: 320px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphoneX *&#x2F;</span><br><span class="line">@media screen and (min-width: 375px) and (-webkit-device-pixel-ratio: 3) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: #0FF000;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphone6 7 8 plus *&#x2F;</span><br><span class="line">@media screen and (min-width: 414px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: blue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* ipad *&#x2F;</span><br><span class="line">@media screen and (min-width: 768px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: green;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* ipad pro *&#x2F;</span><br><span class="line">@media screen and (min-width: 1024px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: #FF00FF;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* pc *&#x2F;</span><br><span class="line">@media screen and (min-width: 1100px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: black;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>PC 优先：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* pc width &gt; 1024px *&#x2F;</span><br><span class="line">    body &#123;</span><br><span class="line">        background-color: yellow;</span><br><span class="line">    &#125;</span><br><span class="line">&#x2F;* ipad pro *&#x2F;</span><br><span class="line">@media screen and (max-width: 1024px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">        background-color: #FF00FF;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* ipad *&#x2F;</span><br><span class="line">@media screen and (max-width: 768px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">        background-color: green;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphone6 7 8 plus *&#x2F;</span><br><span class="line">@media screen and (max-width: 414px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">        background-color: blue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphoneX *&#x2F;</span><br><span class="line">@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 3) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">        background-color: #0FF000;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphone6 7 8 *&#x2F;</span><br><span class="line">@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 2) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">        background-color: #0FF000;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphone5 *&#x2F;</span><br><span class="line">@media screen and (max-width: 320px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">        background-color: #0FF000;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-百分比布局"><a href="#2-百分比布局" class="headerlink" title="2.百分比布局"></a>2.百分比布局</h3><p>通过百分比单位，可以使得浏览器中组件的宽和高随着浏览器的高度的变化而变化，从而实现响应式的效果。Bootstrap 里面的栅格系统就是利用百分比来定义元素的宽高，<code>CSS3</code>支持最大最小高，可以将百分比和<code>max(min)</code>一起结合使用来定义元素在不同设备下的宽高。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* pc width &gt; 1100px *&#x2F;</span><br><span class="line">html, body &#123; margin: 0;padding: 0;width: 100%;height: 100%;&#125;</span><br><span class="line">aside &#123;</span><br><span class="line">    width: 10%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: red;</span><br><span class="line">    float: left;</span><br><span class="line">&#125;</span><br><span class="line">main &#123;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: blue;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* ipad pro *&#x2F;</span><br><span class="line">@media screen and (max-width: 1024px) &#123;</span><br><span class="line">    aside &#123;</span><br><span class="line">      width: 8%;</span><br><span class="line">      background-color: yellow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* ipad *&#x2F;</span><br><span class="line">@media screen and (max-width: 768px) &#123;</span><br><span class="line">    aside &#123;</span><br><span class="line">      float: none;</span><br><span class="line">      width: 100%;</span><br><span class="line">      height: 10%;</span><br><span class="line">      background-color: green;</span><br><span class="line">    &#125;</span><br><span class="line">    main &#123;</span><br><span class="line">      height: calc(100vh - 10%);</span><br><span class="line">      background-color: red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphone6 7 8 plus *&#x2F;</span><br><span class="line">@media screen and (max-width: 414px) &#123;</span><br><span class="line">    aside &#123;</span><br><span class="line">      float: none;</span><br><span class="line">      width: 100%;</span><br><span class="line">      height: 5%;</span><br><span class="line">      background-color: yellow;</span><br><span class="line">    &#125;</span><br><span class="line">    main &#123;</span><br><span class="line">      height: calc(100vh - 5%);</span><br><span class="line">      background-color: red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphoneX *&#x2F;</span><br><span class="line">@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 3) &#123;</span><br><span class="line">    aside &#123;</span><br><span class="line">      float: none;</span><br><span class="line">      width: 100%;</span><br><span class="line">      height: 10%;</span><br><span class="line">      background-color: blue;</span><br><span class="line">    &#125;</span><br><span class="line">    main &#123;</span><br><span class="line">      height: calc(100vh - 10%);</span><br><span class="line">      background-color: red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphone6 7 8 *&#x2F;</span><br><span class="line">@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 2) &#123;</span><br><span class="line">    aside &#123;</span><br><span class="line">      float: none;</span><br><span class="line">      width: 100%;</span><br><span class="line">      height: 3%;</span><br><span class="line">      background-color: black;</span><br><span class="line">    &#125;</span><br><span class="line">    main &#123;</span><br><span class="line">      height: calc(100vh - 3%);</span><br><span class="line">      background-color: red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphone5 *&#x2F;</span><br><span class="line">@media screen and (max-width: 320px) &#123;</span><br><span class="line">    aside &#123;</span><br><span class="line">      float: none;</span><br><span class="line">      width: 100%;</span><br><span class="line">      height: 7%;</span><br><span class="line">      background-color: green;</span><br><span class="line">    &#125;</span><br><span class="line">    main &#123;</span><br><span class="line">      height: calc(100vh - 7%);</span><br><span class="line">      background-color: red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是我们必须要弄清楚 css 中子元素的百分比到底是相对谁的百分比。直接上结论吧：</p><p>子元素的<code>height</code>或<code>width</code>中使用百分比，是相对于子元素的直接父元素，<code>width</code>相对于父元素的<code>width</code>，<code>height</code>相对于父元素的<code>height</code>；子元素的<code>top</code>和<code>bottom</code>如果设置百分比，则相对于直接非<code>static</code>定位 (默认定位) 的父元素的高度，同样子元素的<code>left</code>和<code>right</code>如果设置百分比，则相对于直接非<code>static</code>定位 (默认定位的) 父元素的宽度；子元素的<code>padding</code>如果设置百分比，不论是垂直方向或者是水平方向，都相对于直接父亲元素的<code>width</code>，而与父元素的<code>height</code>无关。跟<code>padding</code>一样，<code>margin</code>也是如此，子元素的<code>margin</code>如果设置成百分比，不论是垂直方向还是水平方向，都相对于直接父元素的<code>width</code>；<code>border-radius</code>不一样，如果设置<code>border-radius</code>为百分比，则是相对于自身的宽度，除了<code>border-radius</code>外，还有比如<code>translate</code>、<code>background-size</code>等都是相对于自身的；</p><p>从上述对于百分比单位的介绍我们很容易看出如果全部使用百分比单位来实现响应式的布局，有明显的以下两个缺点：</p><ul><li>计算困难，如果我们要定义一个元素的宽度和高度，按照设计稿，必须换算成百分比单位。</li><li>可以看出，各个属性中如果使用百分比，相对父元素的属性并不是唯一的。比如<code>width</code>和<code>height</code>相对于父元素的<code>width</code>和<code>height</code>，而<code>margin</code>、<code>padding</code>不管垂直还是水平方向都相对比父元素的宽度、<code>border-radius</code>则是相对于元素自身等等，造成我们使用百分比单位容易使布局问题变得复杂。</li></ul><h3 id="3-rem-布局"><a href="#3-rem-布局" class="headerlink" title="3.rem 布局"></a>3.rem 布局</h3><p><code>REM</code>是<code>CSS3</code>新增的单位，并且移动端的支持度很高，Android2.x+,ios5+都支持。<code>rem</code>单位都是相对于根元素 html 的<code>font-size</code>来决定大小的，根元素的<code>font-size</code>相当于提供了一个基准，当页面的 size 发生变化时，只需要改变<code>font-size</code>的值，那么以<code>rem</code>为固定单位的元素的大小也会发生响应的变化。因此，如果通过<code>rem</code>来实现响应式的布局，只需要根据视图容器的大小，动态的改变<code>font-size</code>即可（而<code>em</code>是相对于父元素的）。</p><p><strong>rem 响应式的布局思想：</strong></p><ul><li>一般不要给元素设置具体的宽度，但是对于一些小图标可以设定具体宽度值</li><li>高度值可以设置固定值，设计稿有多大，我们就严格有多大</li><li>所有设置的固定值都用<code>rem</code>做单位（首先在 HTML 总设置一个基准值：<code>px</code>和<code>rem</code>的对应比例，然后在效果图上获取<code>px</code>值，布局的时候转化为<code>rem</code>值)</li><li>js 获取真实屏幕的宽度，让其除以设计稿的宽度，算出比例，把之前的基准值按照比例进行重新的设定，这样项目就可以在移动端自适应了</li></ul><p><strong>rem 布局的缺点：</strong></p><p>在响应式布局中，必须通过 js 来动态控制根元素<code>font-size</code>的大小，也就是说 css 样式和 js 代码有一定的耦合性，且必须将改变<code>font-size</code>的代码放在<code>css</code>样式之前</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*上述代码中将视图容器分为10份，font-size用十分之一的宽度来表示，最后在header标签中执行这段代码，就可以动态定义font-size的大小，从而1rem在不同的视觉容器中表示不同的大小，用rem固定单位可以实现不同容器内布局的自适应。*&#x2F;</span><br><span class="line">function refreshRem() &#123;</span><br><span class="line">    var docEl &#x3D; doc.documentElement;</span><br><span class="line">    var width &#x3D; docEl.getBoundingClientRect().width;</span><br><span class="line">    var rem &#x3D; width &#x2F; 10;</span><br><span class="line">    docEl.style.fontSize &#x3D; rem + &#39;px&#39;;</span><br><span class="line">    flexible.rem &#x3D; win.rem &#x3D; rem;</span><br><span class="line">&#125;</span><br><span class="line">win.addEventListener(&#39;resize&#39;, refreshRem);</span><br></pre></td></tr></table></figure><p><code>REM</code>布局也是目前多屏幕适配的最佳方式。默认情况下我们 html 标签的<code>font-size</code>为 16px，我们利用媒体查询，设置在不同设备下的字体大小。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* pc width &gt; 1100px *&#x2F;</span><br><span class="line">html&#123; font-size: 100%;&#125;</span><br><span class="line">body &#123;</span><br><span class="line">    background-color: yellow;</span><br><span class="line">    font-size: 1.5rem;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* ipad pro *&#x2F;</span><br><span class="line">@media screen and (max-width: 1024px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: #FF00FF;</span><br><span class="line">      font-size: 1.4rem;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* ipad *&#x2F;</span><br><span class="line">@media screen and (max-width: 768px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: green;</span><br><span class="line">      font-size: 1.3rem;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphone6 7 8 plus *&#x2F;</span><br><span class="line">@media screen and (max-width: 414px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: blue;</span><br><span class="line">      font-size: 1.25rem;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphoneX *&#x2F;</span><br><span class="line">@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 3) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: #0FF000;</span><br><span class="line">      font-size: 1.125rem;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphone6 7 8 *&#x2F;</span><br><span class="line">@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 2) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: #0FF000;</span><br><span class="line">      font-size: 1rem;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* iphone5 *&#x2F;</span><br><span class="line">@media screen and (max-width: 320px) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: #0FF000;</span><br><span class="line">      font-size: 0.75rem;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-视口单位"><a href="#4-视口单位" class="headerlink" title="4.视口单位"></a>4.视口单位</h3><p><code>css3</code>中引入了一个新的单位<code>vw/vh</code>，与视图窗口有关，<code>vw</code>表示相对于视图窗口的宽度，<code>vh</code>表示相对于视图窗口高度，除了<code>vw</code>和<code>vh</code>外，还有<code>vmin</code>和<code>vmax</code>两个相关的单位。各个单位具体的含义如下：</p><table><thead><tr><th>单位</th><th>含义</th></tr></thead><tbody><tr><td>vw</td><td>相对于视窗的宽度，1vw 等于视口宽度的 1%，即视窗宽度是 100vw</td></tr><tr><td>vh</td><td>相对于视窗的高度，1vh 等于视口高度的 1%，即视窗高度是 100vh</td></tr><tr><td>vmin</td><td>vw 和 vh 中的较小值</td></tr><tr><td>vmax</td><td>vw 和 vh 中的较大值</td></tr></tbody></table><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/8/169fb9d770ad1553~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><p>用视口单位度量，视口宽度为 100vw，高度为 100vh（左侧为竖屏情况，右侧为横屏情况）。例如，在桌面端浏览器视口尺寸为 650px，那么 1vw = 650 * 1% = 6.5px（这是理论推算的出，如果浏览器不支持 0.5px，那么实际渲染结果可能是 7px）。</p><p>那么 vw 或者 vh 很类似百分比单位。vw 和%的区别为：</p><table><thead><tr><th>单位</th><th>含义</th></tr></thead><tbody><tr><td>%</td><td>大部分相对于祖先元素，也有相对于自身的情况比如（border-radius、translate 等)</td></tr><tr><td>vw/vh</td><td>相对于视窗的尺寸</td></tr></tbody></table><p>从对比中我们可以发现，<code>vw</code>单位与百分比类似，单确有区别，前面我们介绍了百分比单位的换算困难，这里的<code>vw</code>更像”理想的百分比单位”。任意层级元素，在使用<code>vw</code>单位的情况下，1vw 都等于视图宽度的百分之一。</p><p>使用视口单位来实现响应式有两种做法：</p><h5 id="1-仅使用-vw-作为-CSS-单位"><a href="#1-仅使用-vw-作为-CSS-单位" class="headerlink" title="1.仅使用 vw 作为 CSS 单位"></a>1.仅使用 vw 作为 CSS 单位</h5><ul><li><p>对于设计稿的尺寸转换为为单位，我们使用<code>Sass</code>函数编译</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;iPhone 6 尺寸作为设计稿基准</span><br><span class="line">$vm_base: 375; </span><br><span class="line">@function vw($px) &#123;</span><br><span class="line">    @return ($px &#x2F; 375) * 100vw;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>无论是文本还是布局宽度、间距等都使用<code>vw</code>作为单位</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">.mod_nav &#123;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    &amp;_list &#123;</span><br><span class="line">        display: flex;</span><br><span class="line">        padding: vm(15) vm(10) vm(10); &#x2F;&#x2F; 内间距</span><br><span class="line">        &amp;_item &#123;</span><br><span class="line">            flex: 1;</span><br><span class="line">            text-align: center;</span><br><span class="line">            font-size: vm(10); &#x2F;&#x2F; 字体大小</span><br><span class="line">            &amp;_logo &#123;</span><br><span class="line">                display: block;</span><br><span class="line">                margin: 0 auto;</span><br><span class="line">                width: vm(40); &#x2F;&#x2F; 宽度</span><br><span class="line">                height: vm(40); &#x2F;&#x2F; 高度</span><br><span class="line">                img &#123;</span><br><span class="line">                    display: block;</span><br><span class="line">                    margin: 0 auto;</span><br><span class="line">                    max-width: 100%;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            &amp;_name &#123;</span><br><span class="line">                margin-top: vm(2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>1 物理像素线（也就是普通屏幕下 1px，高清屏幕下 0.5px 的情况）采用<code>transform</code>属性<code>scale</code>实现</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.mod_grid &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    &amp;::after &#123;</span><br><span class="line">        &#x2F;&#x2F; 实现 1 物理像素的下边框线</span><br><span class="line">        content: &#39;&#39;;</span><br><span class="line">        position: absolute;</span><br><span class="line">        z-index: 1;</span><br><span class="line">        pointer-events: none;</span><br><span class="line">        background-color: #ddd;</span><br><span class="line">        height: 1px;</span><br><span class="line">        left: 0;</span><br><span class="line">        right: 0;</span><br><span class="line">        top: 0;</span><br><span class="line">        @media only screen and (-webkit-min-device-pixel-ratio: 2) &#123;</span><br><span class="line">            -webkit-transform: scaleY(0.5);</span><br><span class="line">            -webkit-transform-origin: 50% 0%;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>对于需要保持宽高比的图，应该用<code>padding-top</code>实现</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.mod_banner &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    padding-top: percentage(100&#x2F;700); &#x2F;&#x2F; 使用 padding-top</span><br><span class="line">    height: 0;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    img &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: auto;</span><br><span class="line">        position: absolute;</span><br><span class="line">        left: 0;</span><br><span class="line">        top: 0; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-搭配-vw-和-rem"><a href="#2-搭配-vw-和-rem" class="headerlink" title="2.搭配 vw 和 rem"></a>2.搭配 vw 和 rem</h5></li></ul><p>虽然采用<code>vw</code>适配后的页面效果很好，但是它是利用视口单位实现的布局，依赖视口大小而自动缩放，无论视口过大还是过小，它也随着时候过大或者过小，失去了最大最小宽度的限制，此时我们可以结合<code>rem</code>来实现布局</p><ul><li><p>给根元素大小设置随着视口变化而变化的<code>vw</code>单位，这样就可以实现动态改变其大小</p></li><li><p>限制根元素字体大小的最大最小值，配合<code>body</code>加上最大宽度和最小宽度</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; rem 单位换算：定为 75px 只是方便运算，750px-75px、640-64px、1080px-108px，如此类推</span><br><span class="line">$vm_fontsize: 75; &#x2F;&#x2F; iPhone 6 尺寸的根元素大小基准值</span><br><span class="line">@function rem($px) &#123;</span><br><span class="line">     @return ($px &#x2F; $vm_fontsize ) * 1rem;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 根元素大小使用 vw 单位</span><br><span class="line">$vm_design: 750;</span><br><span class="line">html &#123;</span><br><span class="line">    font-size: ($vm_fontsize &#x2F; ($vm_design &#x2F; 2)) * 100vw; </span><br><span class="line">    &#x2F;&#x2F; 同时，通过 Media Queries 限制根元素最大最小值</span><br><span class="line">    @media screen and (max-width: 320px) &#123;</span><br><span class="line">        font-size: 64px;</span><br><span class="line">    &#125;</span><br><span class="line">    @media screen and (min-width: 540px) &#123;</span><br><span class="line">        font-size: 108px;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; body 也增加最大最小宽度限制，避免默认 100% 宽度的 block 元素跟随 body 而过大过小</span><br><span class="line">body &#123;</span><br><span class="line">    max-width: 540px;</span><br><span class="line">    min-width: 320px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-图片响应式"><a href="#5-图片响应式" class="headerlink" title="5.图片响应式"></a>5.图片响应式</h3></li></ul><p>这里的图片响应式包括两个方面，一个就是大小自适应，这样能够保证图片在不同的屏幕分辨率下出现压缩、拉伸的情况；一个就是根据不同的屏幕分辨率和设备像素比来尽可能选择高分辨率的图片，也就是当在小屏幕上不需要高清图或大图，这样我们用小图代替，就可以减少网络带宽了。</p><h5 id="1-使用-max-width（图片自适应）"><a href="#1-使用-max-width（图片自适应）" class="headerlink" title="1.使用 max-width（图片自适应）:"></a>1.使用 max-width（图片自适应）:</h5><p>图片自适应意思就是图片能随着容器的大小进行缩放，可以采用如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">img &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    max-width: 100%;</span><br><span class="line">    height: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>inline-block</code> 元素相对于它周围的内容以内联形式呈现，但与内联不同的是，这种情况下我们可以设置宽度和高度。 <code>max-width</code>保证了图片能够随着容器的进行等宽扩充（即保证所有图片最大显示为其自身的 100%。此时，如果包含图片的元素比图片固有宽度小，图片会缩放占满最大可用空间），而<code>height</code>为<code>auto</code>可以保证图片进行等比缩放而不至于失真。如果是背景图片的话要灵活运用<code>background-size</code>属性。</p><p>那么为什么不能用<code>width：100%</code>呢？因为这条规则会导致它显示得跟它的容器一样宽。在容器比图片宽得多的情况下，图片会被无谓地拉伸。</p><h5 id="2-使用-srcset"><a href="#2-使用-srcset" class="headerlink" title="2.使用 srcset"></a>2.使用 srcset</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img srcset&#x3D;&quot;photo_w350.jpg 1x, photo_w640.jpg 2x&quot; src&#x3D;&quot;photo_w350.jpg&quot; alt&#x3D;&quot;&quot;&gt;</span><br></pre></td></tr></table></figure><p>如果屏幕的 dpi = 1 的话则加载 1 倍图，而 dpi = 2 则加载 2 倍图，手机和 mac 基本上 dpi 都达到了 2 以上，这样子对于普通屏幕来说不会浪费流量，而对于视网膜屏来说又有高清的体验。</p><p>如果浏览器不支持<code>srcset</code>，则默认加载 src 里面的图片。</p><p>但是你会发现实际情况并不是如此，在 Mac 上的 Chrome 它会同时加载<code>srcset</code>里面的那张 2x 的，还会再去加载 src 里面的那张，加载两张图片。顺序是先把所有<code>srcset</code>里面的加载完了，再去加载 src 的。这个策略比较奇怪，它居然会加载两张图片，如果不写 src，则不会加载两张，但是兼容性就没那么好。这个可能是因为浏览器认为，既然有<code>srcset</code>就不用写 src 了，如果写了 src，用户可能是有用的。而使用<code>picture</code>就不会加载两张</p><h5 id="3-使用-background-image"><a href="#3-使用-background-image" class="headerlink" title="3.使用 background-image"></a>3.使用 background-image</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.banner&#123;</span><br><span class="line">  background-image: url(&#x2F;static&#x2F;large.jpg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media screen and (max-width: 767px)&#123;</span><br><span class="line">  background-image: url(&#x2F;static&#x2F;small.jpg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="4-使用-picture-标签"><a href="#4-使用-picture-标签" class="headerlink" title="4.使用 picture 标签"></a>4.使用 picture 标签</h5><p><a href="https://link.juejin.im/?target=https://scottjehl.github.io/picturefill/">picturefill.min.js</a> ：解决 IE 等浏览器不支持 的问题</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;picture&gt;</span><br><span class="line">    &lt;source srcset&#x3D;&quot;banner_w1000.jpg&quot; media&#x3D;&quot;(min-width: 801px)&quot;&gt;</span><br><span class="line">    &lt;source srcset&#x3D;&quot;banner_w800.jpg&quot; media&#x3D;&quot;(max-width: 800px)&quot;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;banner_w800.jpg&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">&lt;&#x2F;picture&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- picturefill.min.js 解决IE等浏览器不支持 &lt;picture&gt; 的问题 --&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;js&#x2F;vendor&#x2F;picturefill.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p><code>picture</code>必须要写 img 标签，否则无法显示，对<code>pictur</code>e 的操作最后都是在 img 上面，例如 onload 事件是在 img 标签触发的，<code>picture</code>和<code>source</code>是不会进行 layout 的，它们的宽和高都是 0。</p><p>另外使用<code>source</code>，还可以对图片格式做一些兼容处理：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;picture&gt;</span><br><span class="line">    &lt;source type&#x3D;&quot;image&#x2F;webp&quot; srcset&#x3D;&quot;banner.webp&quot;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;banner.jpg&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">&lt;&#x2F;picture&gt;</span><br></pre></td></tr></table></figure><p><strong>总结</strong>：响应式布局的实现可以通过媒体查询+<code>px</code>,媒体查询 + 百分比，媒体查询+<code>rem</code>+<code>js</code>,<code>vm/vh</code>,<code>vm/vh</code> +<code>rem</code>这几种方式来实现。但每一种方式都是有缺点的，媒体查询需要选取主流设备宽度尺寸作为断点针对性写额外的样式进行适配，但这样做会比较麻烦，只能在选取的几个主流设备尺寸下呈现完美适配，另外用户体验也不友好，布局在响应断点范围内的分辨率下维持不变，而在响应断点切换的瞬间，布局带来断层式的切换变化，如同卡带的唱机般“咔咔咔”地一下又一下。通过百分比来适配首先是计算麻烦，第二各个属性中如果使用百分比，其相对的元素的属性并不是唯一的，这样就造成我们使用百分比单位容易使布局问题变得复杂。通过采用<code>rem</code>单位的动态计算的弹性布局，则是需要在头部内嵌一段脚本来进行监听分辨率的变化来动态改变根元素字体大小，使得<code>CSS</code>与<code>JS</code> 耦合了在一起。通过利用纯<code>css</code>视口单位实现适配的页面，是既能解决响应式断层问题，又能解决脚本依赖的问题的，但是兼容性还没有完全能结构接受。</p><h2 id="响应式布局的成型方案"><a href="#响应式布局的成型方案" class="headerlink" title="响应式布局的成型方案"></a>响应式布局的成型方案</h2><p>现在的 css，UI 框架等都已经考虑到了适配不同屏幕分辨率的问题，实际项目中我们可以直接使用这些新特性和框架来实现响应式布局。可以有以下选择方案：</p><ul><li>利用上面的方法自己来实现，比如 CSS3 Media Query,rem，vw 等</li><li>Flex 弹性布局，兼容性较差</li><li>Grid 网格布局，兼容性较差</li><li>Columns 栅格系统，往往需要依赖某个 UI 库，如 Bootstrap</li></ul><h2 id="响应式布局的要点"><a href="#响应式布局的要点" class="headerlink" title="响应式布局的要点"></a>响应式布局的要点</h2><p>在实际项目中，我们可能需要综合上面的方案，比如用<code>rem</code>来做字体的适配，用<code>srcset</code>来做图片的响应式，宽度可以用<code>rem</code>，<code>flex</code>，栅格系统等来实现响应式，然后可能还需要利用媒体查询来作为响应式布局的基础，因此综合上面的实现方案，项目中实现响应式布局需要注意下面几点：</p><ul><li>设置 viewport</li><li>媒体查询</li><li>字体的适配（字体单位）</li><li>百分比布局</li><li>图片的适配（图片的响应式）</li><li>结合 flex，grid，BFC，栅格系统等已经成型的方案</li></ul><p><strong>参考文章：</strong></p><ol><li><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903630655471624#heading-0">响应式布局的常用解决方案对比 (媒体查询、百分比、rem 和 vw/vh）</a></li><li><a href="https://link.juejin.cn/?target=http://caibaojian.com/vw-vh.html">纯 CSS3 使用 vw 和 vh 视口单位实现自适应</a></li><li><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903654323929096#heading-9">你真的了解响应式布局吗？</a></li><li><a href="https://link.juejin.cn/?target=http://www.ghugo.com/mobile-h5-fluid-layout-for-iphone6/">移动端 H5 页面 iphone6 的适配技巧</a></li><li><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903479681499150">响应式开发心得</a></li><li><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903513651150856#heading-10">详解前端响应式布局、响应式图片，与自制栅格系统</a></li><li><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903648099565576">基于媒体查询和 rem 的响应式布局实践</a></li><li><a href="https://link.juejin.cn/?target=https://www.cnblogs.com/lyzg/p/4877277.html">从网易与淘宝的 font-size 思考前端设计稿与工作流</a></li><li><a href="https://link.juejin.cn/?target=http://www.vsoui.com/2017/03/15/mobile-FE-Adaptive/">移动端前端适配方案对比</a></li></ol></div><footer class="post-footer"><div class="post-tags"><a href="/tags/CSS/" rel="tag"># CSS</a> <a href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/" rel="tag"># 响应式布局</a></div><div class="post-nav"><div class="post-nav-item"><a href="/%E5%85%B6%E4%BB%96/%E7%AD%94%E8%BE%A9/" rel="prev" title="转正答辩思路"><i class="fa fa-chevron-left"></i> 转正答辩思路</a></div><div class="post-nav-item"><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/mongoose/" rel="next" title="egg.js 使用 mongoose">egg.js 使用 mongoose <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:t}=CONFIG.comments;if(CONFIG.comments.storage&&(t=localStorage.getItem("comments_active")||t),t){const e=document.querySelector(`a[href="#comment-${t}"]`);e&&e.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">mohui</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="站点总字数">573k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">8:41</span></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></footer><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>