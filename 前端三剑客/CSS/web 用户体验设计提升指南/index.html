<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css"><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"baimohui.github.io",root:"/",images:"/images",scheme:"Muse",version:"8.2.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12},copycode:!1,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:"valine",storage:!0,lazyload:!1,nav:null},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"fadeInDown",post_body:"fadeInDown",coll_header:"fadeInLeft",sidebar:"fadeInUp"}},prism:!1,i18n:{placeholder:"搜索...",empty:"没有找到任何搜索结果：${query}",hits_time:"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）",hits:"找到 ${hits} 个搜索结果"}}</script><meta name="description" content="用户体验设计秉承着以用户为中心的思想，以用户需求为目标。设计过程注重以用户为中心，用户体验的概念从开发的最早期就开始进入整个流程，并贯穿始终。良好的用户体验设计，是产品每一个环节共同努力的结果。 除去一些很难一蹴而就的，本文将就页面展示、交互细节、可访问性三个方面入手，罗列一些在实际的开发过程中，积攒的一些有益的经验。通过本文，你将能收获到：  了解到一些小细节是如何影响用户体验的  了解到如何在"><meta property="og:type" content="article"><meta property="og:title" content="Web 用户体验设计提升指南"><meta property="og:url" content="https://baimohui.github.io/%E5%89%8D%E7%AB%AF%E4%B8%89%E5%89%91%E5%AE%A2/CSS/web%20%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E8%AE%BE%E8%AE%A1%E6%8F%90%E5%8D%87%E6%8C%87%E5%8D%97/index.html"><meta property="og:site_name" content="白抹灰"><meta property="og:description" content="用户体验设计秉承着以用户为中心的思想，以用户需求为目标。设计过程注重以用户为中心，用户体验的概念从开发的最早期就开始进入整个流程，并贯穿始终。良好的用户体验设计，是产品每一个环节共同努力的结果。 除去一些很难一蹴而就的，本文将就页面展示、交互细节、可访问性三个方面入手，罗列一些在实际的开发过程中，积攒的一些有益的经验。通过本文，你将能收获到：  了解到一些小细节是如何影响用户体验的  了解到如何在"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ca2418b6ef046d7b2635a2e10a4610c~tplv-k3u1fbpfcp-watermark.image"><meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/865f09c168c04c808104b8540277a6f7~tplv-k3u1fbpfcp-watermark.image"><meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a1120cd519248cb8f706c63d28176be~tplv-k3u1fbpfcp-watermark.image"><meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4fe995f026044f63af807b601378294f~tplv-k3u1fbpfcp-watermark.image"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164557.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164558.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164559.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164600.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164601.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164602.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164603.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164604.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164605.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164606.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164607.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164608.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164609.png"><meta property="article:published_time" content="2021-11-06T08:45:25.718Z"><meta property="article:modified_time" content="2022-03-05T08:47:15.419Z"><meta property="article:author" content="mohui"><meta property="article:tag" content="性能优化"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ca2418b6ef046d7b2635a2e10a4610c~tplv-k3u1fbpfcp-watermark.image"><link rel="canonical" href="https://baimohui.github.io/%E5%89%8D%E7%AB%AF%E4%B8%89%E5%89%91%E5%AE%A2/CSS/web%20%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E8%AE%BE%E8%AE%A1%E6%8F%90%E5%8D%87%E6%8C%87%E5%8D%97/"><script class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>Web 用户体验设计提升指南 | 白抹灰</title><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">白抹灰</h1><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li></ul></nav></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA"><span class="nav-text">（一）页面展示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%95%B4%E4%BD%93%E5%B8%83%E5%B1%80"><span class="nav-text">1. 整体布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%BA%95%E9%83%A8-footer"><span class="nav-text">2. 底部 footer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%B6%85%E9%95%BF%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86"><span class="nav-text">3. 超长文本处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E4%BF%9D%E6%8A%A4%E8%BE%B9%E7%95%8C"><span class="nav-text">4. 保护边界</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%9B%BE%E7%89%87%E7%9B%B8%E5%85%B3"><span class="nav-text">3. 图片相关</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">mohui</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">62</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">17</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">57</span> <span class="site-state-item-name">标签</span></a></div></nav></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button"><i class="fa fa-arrow-up"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://baimohui.github.io/%E5%89%8D%E7%AB%AF%E4%B8%89%E5%89%91%E5%AE%A2/CSS/web%20%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E8%AE%BE%E8%AE%A1%E6%8F%90%E5%8D%87%E6%8C%87%E5%8D%97/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="mohui"><meta itemprop="description" content=""></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="白抹灰"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Web 用户体验设计提升指南</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-11-06 16:45:25" itemprop="dateCreated datePublished" datetime="2021-11-06T16:45:25+08:00">2021-11-06</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-03-05 16:47:15" itemprop="dateModified" datetime="2022-03-05T16:47:15+08:00">2022-03-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">性能优化</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span></span></div><div class="post-meta"><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>4k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>4 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>用户体验设计秉承着<strong>以用户为中心的思想</strong>，以用户需求为目标。设计过程注重以用户为中心，用户体验的概念从开发的最早期就开始进入整个流程，并贯穿始终。良好的用户体验设计，是产品每一个环节共同努力的结果。</p><p>除去一些很难一蹴而就的，本文将就<strong>页面展示</strong>、<strong>交互细节</strong>、<strong>可访问性</strong>三个方面入手，罗列一些在实际的开发过程中，积攒的一些有益的经验。通过本文，你将能收获到：</p><ul><li><p>了解到一些小细节是如何影响用户体验的</p></li><li><p>了解到如何在尽量小的开发改动下，提升页面的用户体验</p></li><li><p>了解到一些优秀的交互设计细节</p></li><li><p>了解基本的无障碍功能及页面可访问性的含义</p></li><li><p>了解基本的提升页面可访问性的方法</p><a id="more"></a></li></ul><h2 id="（一）页面展示"><a href="#（一）页面展示" class="headerlink" title="（一）页面展示"></a>（一）页面展示</h2><h3 id="1-整体布局"><a href="#1-整体布局" class="headerlink" title="1. 整体布局"></a>1. 整体布局</h3><p>对于大部分 PC 端的项目，首先需要考虑最外层的包裹。假设为 <code>.g-app-wrapper</code>。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;g-app-wrapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 内部内容 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>首先，对于 <code>.g-app-wrapper</code>，有两点是需要在项目开发前弄清楚的：</p><ol><li>项目是全屏布局还是定宽布局？</li><li>对于全屏布局，需要适配的最小的宽度是多少？</li></ol><p>对于定宽布局，就比较方便了，假设定宽为 <code>1200px</code>，那么：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.g-app-wrapper</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1200px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>利用 <code>margin: 0 auto</code> 实现布局的水平居中。在屏幕宽度大于 <code>1200px</code> 时，两侧留白，当然屏幕宽度小于 <code>1200px</code> 时，则出现滚动条，保证内部内容不乱。</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ca2418b6ef046d7b2635a2e10a4610c~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>对于现代布局，更多的是全屏布局。其实现在也更提倡这种布局，即使用可随用户设备的尺寸和能力而变化的自适应布局。</p><p>通常而言是左右两栏，左侧定宽，右侧自适应剩余宽度，当然，会有一个最小的宽度。那么，它的布局应该是这样：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;g-app-wrapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;g-sidebar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;g-main&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.g-app-wrapper</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">1200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.g-sidebar</span> &#123;</span><br><span class="line">    <span class="attribute">flex-basis</span>: <span class="number">250px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.g-main</span> &#123;</span><br><span class="line">    <span class="attribute">flex-grow</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/865f09c168c04c808104b8540277a6f7~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>利用了 flex 布局下的 <code>flex-grow: 1</code>，让 <code>.main</code> 进行伸缩，占满剩余空间，利用 <code>min-width</code> 保证了整个容器的最小宽度。这是最基本的自适应布局。对于现代布局，我们应尽可能考虑更多的场景。做到：</p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a1120cd519248cb8f706c63d28176be~tplv-k3u1fbpfcp-watermark.image" alt="img" style="zoom:50%"><h3 id="2-底部-footer"><a href="#2-底部-footer" class="headerlink" title="2. 底部 footer"></a>2. 底部 footer</h3><p>页面存在一个 footer 页脚部分，如果整个页面的内容高度小于视窗的高度，则 footer 固定在视窗底部，如果整个页面的内容高度大于视窗的高度，则 footer 正常流排布（也就是需要滚动到底部才能看到 footer）。</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4fe995f026044f63af807b601378294f~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>使用 flex 的<code>justify-content: space-between</code> 可以很好解决，同理使用 <code>margin-top: auto</code> 也非常容易完成：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;g-container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;g-real-box&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;g-footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.g-container</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.g-footer</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: auto;</span><br><span class="line">    <span class="attribute">flex-shrink</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">background</span>: deeppink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-超长文本处理"><a href="#3-超长文本处理" class="headerlink" title="3. 超长文本处理"></a>3. 超长文本处理</h3><p>对于所有接收后端接口字段的文本展示类的界面。都需要考虑全面（防御性编程：所有的外部数据都是不可信的），正常情况如下，是没有问题的。</p><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164557.png" alt="image-20210328135439922" style="zoom:67%"><p>但如果文本是很长的一段内容，则可能发生如下情况：</p><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164558.png" alt="image-20210328135506647" style="zoom:67%"><p>对于<strong>单行文本</strong>，使用单行省略：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164559.png" alt="image-20210328135637086" style="zoom:67%"><p>对于<strong>多行文本</strong>的超长省略，兼容性较好的做法如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">overflow</span> : hidden;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">    <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">    -webkit-line-clamp: <span class="number">2</span>;</span><br><span class="line">    -webkit-box-orient: vertical;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164600.png" alt="image-20210328135810011" style="zoom:67%"><h3 id="4-保护边界"><a href="#4-保护边界" class="headerlink" title="4. 保护边界"></a>4. 保护边界</h3><p>对于一些动态内容，我们经常使用 <code>min/max-width</code> 或 <code>min/max-height</code> 对容器的高宽限度进行合理的控制。在使用它们的时候，也有一些细节需要考虑到。譬如经常会使用 <code>min-width</code> 控制按钮的最小宽度：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">120px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164601.png" alt="image-20210328140034364" style="zoom:67%"><p>当内容较少时是没问题的，但当内容比较长，就容易出现按钮过长的情况：</p><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164602.png" alt="image-20210328140143826" style="zoom:67%"><p>这里就需要配合 padding 一起：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">88px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">16px</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>借用<a target="_blank" rel="noopener" href="https://ishadeed.com/article/min-max-css/">Min and Max Width/Height in CSS</a>中一张非常好的图，作为释义：</p><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164603.png" alt="image-20210328140301515" style="zoom:80%"><h3 id="3-图片相关"><a href="#3-图片相关" class="headerlink" title="3. 图片相关"></a>3. 图片相关</h3><p>有的时候和产品、设计会商定，只能使用固定尺寸大小的图片，我们的布局可能是这样：</p><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164604.png" alt="image-20210328141631582" style="zoom:67%"><p>对应布局：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;g-container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://placehold.it/150x100&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>图片描述<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>假设后端接口出现一张非正常大小的图片，上述不加保护的布局就会出问题：</p><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164605.png" alt="image-20210328141756916" style="zoom:67%"><p>我们总是建议<strong>对图片同时设置高和宽</strong>，避免因为图片尺寸错误带来的布局问题。同时，给 <code>&lt;img&gt;</code> 标签同时写上高宽，可以在图片未加载之前提前占住位置，避免图片从未加载状态到渲染完成状态高宽变化引起的重排问题。</p><p>但限制高宽也可能出现图片被拉伸变形的问题，导致效果不美观。</p><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164606.png" alt="image-20210328142107080" style="zoom:67%"><p>这个时候可以**借助 <code>object-fit</code>**，它能够指定可替换元素的内容（也就是图片）该如何适应它的父容器的高宽。利用 <code>object-fit: cover</code>，使图片内容在保持其宽高比的同时填充元素的整个内容框。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">object-fit</span>: cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164607.png" alt="image-20210328142248442" style="zoom:67%"><p><code>object-fit</code> 还有一个配套属性 <code>object-position</code>，它可以控制图片在其内容框中的位置。（类似于 <code>background-position</code>），m默认是 <code>object-position: 50% 50%</code>，如果你不希望以图片的居中部分展示，可以使用它去改变图片实际展示的 position 。</p><p>像是这样，<code>object-position: 100% 50%</code> 指明从底部开始展示图片。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">object-fit</span>: cover;</span><br><span class="line">    <span class="attribute">object-position</span>: <span class="number">50%</span> <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164608.png" alt="image-20210328142533433" style="zoom:67%"><p>在移动端或者一些高清的 PC 屏幕（苹果的 MAC Book），屏幕的 dpr 可能大于 1。这种时候，我们可能还需要考虑利用多倍图去适配不同 dpr 的屏幕。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">img</span> </span><br><span class="line">        src = &quot;photo.png&quot; </span><br><span class="line">        sizes = “(min-width: 600px) 600px, 300px&quot; </span><br><span class="line">        srcset = “photo@1x.png 300w,</span><br><span class="line">                       photo<span class="keyword">@2x</span>.png <span class="number">600</span>w,</span><br><span class="line">                       photo@<span class="number">3</span>x.png <span class="number">1200</span>w,</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure><p>接下来还需要考虑，当图片链接挂了，应该如何处理。处理的方式有很多种。最好的处理方式，是我最近在张鑫旭老师的这篇文章中 – <a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2020/10/css-style-image-load-fail/">图片加载失败后CSS样式处理最佳实践</a> 看到的。这里简单讲下：</p><ol><li>利用图片加载失败，触发 <code>&lt;img&gt;</code> 元素的 <code>onerror</code> 事件，给加载失败的 <code>&lt;img&gt;</code> 元素新增一个样式类</li><li>利用新增的样式类，配合 <code>&lt;img&gt;</code> 元素的伪元素，展示默认兜底图的同时，还能一起展示 <code>&lt;img&gt;</code> 元素的 <code>alt</code> 信息</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;test.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;图片描述&quot;</span> <span class="attr">onerror</span>=<span class="string">&quot;this.classList.add(&#x27;error&#x27;);&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span><span class="selector-class">.error</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-class">.error</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="comment">/** 定位代码 **/</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">error-default.png</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-class">.error</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">attr</span>(alt);</span><br><span class="line">    <span class="comment">/** 定位代码 **/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们利用伪元素 <code>before</code> ，加载默认错误兜底图，利用伪元素 <code>after</code>，展示图片的 <code>alt</code> 信息：</p><img src="https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20220305164609.png" alt="image-20210328143432662" style="zoom:67%"></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="tag"># 性能优化</a></div><div class="post-nav"><div class="post-nav-item"><a href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%AF%BE%E5%90%8E%E4%B9%A0%E9%A2%98/" rel="prev" title="Linux 课后练习题"><i class="fa fa-chevron-left"></i> Linux 课后练习题</a></div><div class="post-nav-item"><a href="/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB/" rel="next" title="前后端的分离">前后端的分离 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:t}=CONFIG.comments;if(CONFIG.comments.storage&&(t=localStorage.getItem("comments_active")||t),t){const e=document.querySelector(`a[href="#comment-${t}"]`);e&&e.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">mohui</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="站点总字数">498k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">7:33</span></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></footer><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>